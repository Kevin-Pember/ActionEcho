(()=>{"use strict";var t={749:(t,e,n)=>{n.d(e,{E7:()=>a,FT:()=>d,Lp:()=>l,Rm:()=>m,Sp:()=>c,gJ:()=>g,vS:()=>u,wg:()=>r,zO:()=>h});var i=n(605);let s={months:[{fullName:"January",shortName:"Jan"},{fullName:"February",shortName:"Feb"},{fullName:"March",shortName:"Mar"},{fullName:"April",shortName:"Apr"},{fullName:"May",shortName:"May"},{fullName:"June",shortName:"Jun"},{fullName:"July",shortName:"Jul"},{fullName:"August",shortName:"Aug"},{fullName:"September",shortName:"Sep"},{fullName:"October",shortName:"Oct"},{fullName:"November",shortName:"Nov"},{fullName:"December",shortName:"Dec"}],limitInput:(t,e,n)=>{let i=Number(t);return isNaN(i)&&(i=Number(s.makeNumber(t))),""==t?"":i<e?e:i>n?n:i},getSelection:t=>{if("INPUT"==t.tagName&&"text"==t.type||"TEXTAREA"==t.tagName)return[t.selectionStart,t.selectionEnd];{let t=window.getSelection();return t.baseOffset>t.extentOffset?[t.extentOffset,t.baseOffset]:[t.baseOffset,t.extentOffset]}},makeNumber:t=>t.replace(/\D/g,""),generateID:()=>Math.floor(1e9*Math.random())};class o extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}),this.shadowRoot.innerHTML="\n        <style>\n        *{\n            font-family: 'Roboto', sans-serif;\n            color: var(--text);\n        }\n        </style>\n        ",this.ui={}}}class a extends o{constructor(){super(),this.shadowRoot.innerHTML='\n        <div id="mainDiv" style="z-index: -1; opacity: 0; transition: opacity 0.25s ease; width: 100%; height: 100%; position: absolute; left:0; right:0; background-color: #00000091; pointer-events: none;"></div>\n        ',this.ui.mainDiv=this.shadowRoot.getElementById("mainDiv")}blurFocus(){this.ui.mainDiv.style.zIndex="100",this.ui.mainDiv.style.opacity="1",this.ui.mainDiv.style.pointerEvents="all"}returnFocus(){this.ui.mainDiv.style.opacity="0",this.ui.mainDiv.style.pointerEvents="none",setTimeout((()=>{this.ui.mainDiv.style.zIndex="-1"}),250)}}class r extends o{constructor(){super(),this.shadowRoot.innerHTML='\n        <style>\n        #svgContainer{\n            height: 100%;\n            width: 100%;\n            position: absolute;\n            padding: 25%;\n            transition: background-color 0.25s ease;\n            box-sizing: border-box;\n            display: flex;\n            justify-content: center;\n            align-items: center;\n            border: 1px solid var(--accentBorder);\n        }\n        #svgButton{\n            height: 100%;\n            \n        }\n        #svgContainer:hover{\n            background-color: var(--primary);\n        }\n        .accent{\n            background-color: var(--accent);\n        }\n        .secondary{\n            background-color: var(--secondary);\n        }\n        </style>\n        <div id="svgContainer" class="secondary">\n\n        </div>\n        ',this.svgContainer=this.shadowRoot.getElementById("svgContainer")}connectedCallback(){setTimeout((()=>{let t=this.querySelector("svg");t&&(t.id="svgButton",this.svgContainer.appendChild(t))}))}static get observedAttributes(){return["bcolor","pad"]}attributeChangedCallback(t,e,n){"bcolor"==t?(this.svgContainer.className="","secondary"==n?this.svgContainer.classList.add("secondary"):"accent"==n&&this.svgContainer.classList.add("accent")):"pad"==t&&(this.svgContainer.style="on"==n?"":"padding: 0px;")}}class l extends o{constructor(){super(),this.shadowRoot.innerHTML='\n      <div id="actionButton" style="background-color: transparent; height: 100%; width: 100%; position: relative; z-index: 1;">\n        <svg id="deleteAction" style="position: absolute; left: 5px; top: 5px; height: 20px; z-index: 1;" fill="none" viewBox="0 0 211 212" xmlns="http://www.w3.org/2000/svg">\n            <path d="m2.3865 168.46c-2.4619 2.462-2.4619 6.453 0 8.915l32.095 32.095c2.462 2.462 6.4535 2.462 8.9155 0l62.358-62.357 62.358 62.357c2.462 2.462 6.454 2.462 8.915 0l32.096-32.095c2.462-2.462 2.462-6.453 0-8.915l-62.358-62.358 62.358-62.358c2.462-2.4619 2.462-6.4534 0-8.9154l-32.096-32.095c-2.462-2.4619-6.453-2.4619-8.915 0l-62.358 62.358-62.358-62.358c-2.462-2.4619-6.4533-2.4619-8.9153 0l-32.095 32.095c-2.4619 2.462-2.4619 6.4535 0 8.9154l62.358 62.358-62.358 62.358z" fill="var(--accentBorder)"/>\n        </svg>\n      \n        <div style="position: absolute; height: 100%; width: 100%; display:grid; justify-items: center; align-items: center; grid-template-rows: calc(100% - 30px) 30px;">\n            <div style="background-color: var(--accent);padding: 17.5px;border: 1px solid var(--accentBorder);">\n                <img id="imgArea" style=" filter: grayscale(50%);">\n            </div>\n            <h2 id="nameArea" style="color: var(--darkText); font-size: 30px; font-weight: 300;"></h2>\n        </div>\n        \n        <svg id="editButton" style="visibility: hidden; position: absolute; right: 5px; top: 5px; height: 20px;" viewBox="0 0 1079 1078" xmlns="http://www.w3.org/2000/svg">\n            <path d="m644.42 231.79c11.715-11.716 30.71-11.716 42.426 0l159.81 159.81c11.716 11.716 11.716 30.711 0 42.426l-453.96 453.96c-11.716 11.716-30.711 11.716-42.427 0l-159.81-159.81c-11.716-11.716-11.716-30.711 0-42.427l453.96-453.96z" fill="var(--accent)"/>\n            <path d="m1063.7 216.94c30.86-30.852 10.59-101.13-45.25-156.98-55.846-55.845-126.13-76.106-156.98-45.255l-111.02 111.02c-11.716 11.715-11.716 30.711 0 42.426l159.81 159.81c11.715 11.716 30.71 11.716 42.426 0l111.01-111.02z" fill="var(--accent)"/>\n            <path d="m39.79 1076.3c-23.172 7.33-44.992-14.49-37.656-37.66l73.756-232.96c6.7914-21.451 33.904-28.069 49.814-12.158l159.2 159.2c15.91 15.91 9.293 43.022-12.158 49.813l-232.96 73.76z" fill="var(--accent)"/>\n        </svg>\n      </div>\n      ',this.ui={},this.ui.actionButton=this.shadowRoot.getElementById("actionButton"),this.ui.imgArea=this.shadowRoot.getElementById("imgArea"),this.ui.nameArea=this.shadowRoot.getElementById("nameArea"),this.ui.editButton=this.shadowRoot.getElementById("editButton"),this.ui.deleteAction=this.shadowRoot.getElementById("deleteAction")}linkAction(t){this.action=t,this.ui.nameArea.innerText=t.name,this.ui.imgArea.src=i.ui.faviconURL(t.actions[0].url),this.ui.actionButton.addEventListener("click",(e=>{this.ui.deleteAction.contains(e.target)?i.ui.getBool("Delete Action?",`Do you want to delete the ${this.action.name} action`+t.name).then((t=>{t&&this.removeAction()})):i.ui.getTime("When?").then((e=>{if("Date"!=typeof e&&"now"===e)chrome.runtime.sendMessage({action:"runActionSet",set:t},(t=>{}));else{let t={id:s.generateID(),name:this.action.name,actions:this.action.actions,date:e.getTime(),state:"scheduled"};i.p.scheduledEvents.push(t),chrome.runtime.sendMessage({action:"scheduleActionSet",set:t},(t=>{if("added"!=t.log)throw new Error("Failed to add scheduled Action")})),i.ui.createTimeEntry(t)}}))}))}removeAction(){i.p.removeAction(this.action),this.remove()}}class c extends o{constructor(){super(),this.shadowRoot.innerHTML='\n        <div id="actionButton" style="background-color: transparent; height: 100%; width: 100%; position: relative;">\n            <svg id="removeAction" style="position: absolute; left: 5px; top: 5px; height: 20px; z-index: 1;" fill="none" viewBox="0 0 211 212" xmlns="http://www.w3.org/2000/svg">\n                <path d="m2.3865 168.46c-2.4619 2.462-2.4619 6.453 0 8.915l32.095 32.095c2.462 2.462 6.4535 2.462 8.9155 0l62.358-62.357 62.358 62.357c2.462 2.462 6.454 2.462 8.915 0l32.096-32.095c2.462-2.462 2.462-6.453 0-8.915l-62.358-62.358 62.358-62.358c2.462-2.4619 2.462-6.4534 0-8.9154l-32.096-32.095c-2.462-2.4619-6.453-2.4619-8.915 0l-62.358 62.358-62.358-62.358c-2.462-2.4619-6.4533-2.4619-8.9153 0l-32.095 32.095c-2.4619 2.462-2.4619 6.4535 0 8.9154l62.358 62.358-62.358 62.358z" fill="var(--accent)"/>\n            </svg>\n        \n            <div style="position: absolute; height: calc(100% - 40px); width: calc(100% - 20px); display:grid; justify-items: center; align-items: center; grid-template-columns: calc(100% - 90px) 90px; padding: 30px 10px 10px 10px">\n                <div style="margin: 0 0 -10px -15px; position: relative;">\n                    <svg id="statusIcon" style="height: 25px;" fill="none" viewBox="0 0 300 300" xmlns="http://www.w3.org/2000/svg">\n                        \n                    </svg>                        \n                    <h2 id="timeArea" style="font-family: \'DM Sans\', sans-serif; font-size: 40px; margin: -10px 0; color: var(--darkText); height: 45px; ">12:30</h2>\n                    <h3 id="meridiemArea" style="margin: 3px; color: var(--darkText); font-size: 20px"></h3>\n                    <h3 id="dateArea" style="font-family: \'DM Sans\', sans-serif; font-weight: 300; margin: 3px 0px 3px 3px; font-size: 20px; color: var(--darkText); direction: rtl; position: absolute; right: 0px; bottom: 0px;">Apr, 1</h3>\n                </div>\n                <img id="imgArea" style="width:35px;background-color: var(--accent);padding: 17.5px;border: 1px solid var(--accentBorder); filter: grayscale(50%);" src="/public/icon.png">\n                \n            </div>\n            \n            <svg id="editButton" style="position: absolute; right: 5px; top: 5px; height: 20px; visibility: hidden;" viewBox="0 0 1079 1078" xmlns="http://www.w3.org/2000/svg">\n                <path d="m644.42 231.79c11.715-11.716 30.71-11.716 42.426 0l159.81 159.81c11.716 11.716 11.716 30.711 0 42.426l-453.96 453.96c-11.716 11.716-30.711 11.716-42.427 0l-159.81-159.81c-11.716-11.716-11.716-30.711 0-42.427l453.96-453.96z" fill="var(--accent)"/>\n                <path d="m1063.7 216.94c30.86-30.852 10.59-101.13-45.25-156.98-55.846-55.845-126.13-76.106-156.98-45.255l-111.02 111.02c-11.716 11.715-11.716 30.711 0 42.426l159.81 159.81c11.715 11.716 30.71 11.716 42.426 0l111.01-111.02z" fill="var(--accent)"/>\n                <path d="m39.79 1076.3c-23.172 7.33-44.992-14.49-37.656-37.66l73.756-232.96c6.7914-21.451 33.904-28.069 49.814-12.158l159.2 159.2c15.91 15.91 9.293 43.022-12.158 49.813l-232.96 73.76z" fill="var(--accent)"/>\n            </svg>\n        </div>\n        ',this.ui.actionButton=this.shadowRoot.getElementById("actionButton"),this.ui.removeAction=this.shadowRoot.getElementById("removeAction"),this.ui.timeArea=this.shadowRoot.getElementById("timeArea"),this.ui.meridiemArea=this.shadowRoot.getElementById("meridiemArea"),this.ui.dateArea=this.shadowRoot.getElementById("dateArea"),this.ui.imgArea=this.shadowRoot.getElementById("imgArea")}linkAction(t){this.event=t;let e=new Date(Number(t.date)),n=e.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});this.ui.timeArea.textContent=n.substring(0,5),this.ui.meridiemArea.textContent=n.substring(6);let o=s.months[e.getMonth()].shortName+", "+e.getDate();this.ui.dateArea.textContent=o,this.ui.imgArea.src=i.ui.faviconURL(t.actions[0].url),this.setIcon(t.state),this.ui.actionButton.addEventListener("click",(t=>{(this.ui.removeAction.contains(t.target)||this.ui.removeAction==t.target)&&(i.ui.scheduleButtons.splice(i.ui.scheduleButtons.indexOf(this),1),this.removeAction())}))}setIcon(t){"scheduled"==t?this.shadowRoot.getElementById("statusIcon").innerHTML='\n            <path d="m53.853 265.14 96.58-96.58 55.154 55.154 29.699-29.699-85.459-85.459-124.65 124.65c-15.903-23.81-25.175-52.426-25.175-83.207 0-82.843 67.157-150 150-150 82.843 0 150 67.157 150 150 0 82.843-67.157 150-150 150-36.586 0-70.113-13.099-96.147-34.862z" fill="var(--darkText)"/>\n            ':"failed"==t?this.shadowRoot.getElementById("statusIcon").innerHTML='\n            <path d="m34.309 55.822c-48.121 58.933-44.6 146.02 10.487 201.11 3.4332 3.433 6.9907 6.666 10.658 9.698l27.704-27.704-11.089-11.089 51.519-51.519-65.321-65.32 15.607-15.608-39.564-39.564zm55.01 231.93c55.302 24.963 122.53 14.792 167.88-30.556 3.166-3.166 6.16-6.438 8.983-9.806l-41.212-41.211-20.152 20.153-40.408-40.408-35.76 35.76 13.368 13.368-52.7 52.7zm199.15-76.26c19.202-43.809 16.429-94.968-8.296-136.77l-50.753 50.753-16.254-16.254-35.306 35.305 33.724 33.724 21.82-21.82 55.065 55.066zm-32.453-167.61c-53.075-52.194-135.18-57.124-193.52-14.723l56.725 56.724-17.881 17.88 29.471 29.47 59.701-59.701 17.925 17.925 47.576-47.576z" clip-rule="evenodd" fill="#935744" fill-rule="evenodd"/>\n            ':"completed"==t&&(this.shadowRoot.getElementById("statusIcon").innerHTML='\n            <path d="m246.15 34.862-96.58 96.58-55.154-55.154-29.698 29.699 85.459 85.459 124.65-124.65c15.903 23.81 25.175 52.426 25.175 83.207 0 82.843-67.157 150-150 150-82.843 0-150-67.157-150-150 0-82.843 67.157-150 150-150 36.586 0 70.113 13.098 96.147 34.862z" fill="#42870B"/>\n            ')}removeAction(){i.p.removeScheduledAction(this.event),this.remove()}}class d extends o{constructor(){super(),this.shadowRoot.innerHTML+='\n        <link rel="stylesheet" href="public/styling.css">\n        <style>\n            *{\n                margin: 0;\n            }\n            input{\n                border: 1px solid var(--accentBorder);\n                height: 50px;\n                width: 100%;\n                background-color: var(--secondary);\n                color: var(--darkText);\n                outline: none;\n                padding: 0 5px 0 5px;\n                font-size: 25px;\n                box-sizing: border-box;\n            }\n            .handlerButtons{\n                height: 35px; \n                aspect-ratio:1; \n                position: relative; \n                display: block; \n            }\n            button{\n                border: 1px solid var(--accentBorder);\n                background-color: var(--secondary);\n                color: var(--darkText);\n                font-family: \'DM Sans\', sans-serif;\n                font-weight: 800;\n            }\n            button:hover{\n                background-color: var(--primary);\n            }\n        </style>\n        <div\n        style="position: relative; height: fit-content; width: fit-content;\n        z-index: 100; padding: 10px; transition: 0.25s ease; box-sizing: border-box; \n        padding-bottom: 45px; border: 1px solid var(--accentBorder); background-color:var(--primary);">\n                <h2 id="title" style="margin: 0 0 5px 0;">Alert</h2>\n                <div id="inputContainer" style="display:grid; justify-content: center; align-items: center;">\n                \n                </div>\n                <div style="height: 35px; display: flex; gap: 5px; position: absolute; right: 5px; bottom: 5px;">\n                    <button-generic id="acceptButton" class="handlerButtons">\n                        <svg fill="none" viewBox="0 0 1324 1033" xmlns="http://www.w3.org/2000/svg">\n                            <path\n                                d="m1162 8.7868c-11.71-11.716-30.71-11.716-42.42-1e-5l-646.5 646.5-269.08-269.08c-11.715-11.716-30.71-11.716-42.426 0l-152.74 152.74c-11.716 11.716-11.716 30.711-1e-5 42.427l442.74 442.74c5.932 5.93 13.732 8.86 21.507 8.78 7.771 0.08 15.565-2.85 21.495-8.78l820.16-820.16c11.71-11.715 11.71-30.71 0-42.426l-152.74-152.74z"\n                                fill="var(--darkText)" />\n                        </svg>\n                    </button-generic>\n                    <button-generic id="quitButton" class="handlerButtons">\n                        <svg fill="none" viewBox="0 0 1002 1002" xmlns="http://www.w3.org/2000/svg">\n                            <path d="M9.21265 797.872C-2.50317 809.588 -2.50317 828.583 9.21265 840.299L161.948 993.034C173.664 1004.75 192.659 1004.75 204.375 993.034L501.123 696.285L797.872 993.034C809.588 1004.75 828.583 1004.75 840.298 993.034L993.033 840.299C1004.75 828.583 1004.75 809.588 993.033 797.872L696.284 501.124L993.033 204.375C1004.75 192.659 1004.75 173.664 993.033 161.948L840.299 9.2132C828.583 -2.50238 809.588 -2.50238 797.872 9.2132L501.123 305.962L204.374 9.2132C192.658 -2.50238 173.664 -2.50238 161.948 9.2132L9.21265 161.948C-2.50317 173.664 -2.50317 192.659 9.21265 204.375L305.962 501.124L9.21265 797.872Z" fill="var(--darkText)" />\n                        </svg>\n                    </button-generic>\n            </div>\n        </div>\n        ',this.ui.title=this.shadowRoot.getElementById("title"),this.ui.acceptButton=this.shadowRoot.getElementById("acceptButton"),this.ui.inputContainer=this.shadowRoot.getElementById("inputContainer"),this.ui.quitButton=this.shadowRoot.getElementById("quitButton"),this.ui.containedElements=[]}setQueryType(t){switch(this.ui.containedElements&&this.clearContext(),arguments[1]&&(this.ui.title.textContent=arguments[1]),t){case"text":this.type="text";let t=document.createElement("input");t.type="text",this.ui.containedElements.push(t),this.ui.inputContainer.appendChild(t);break;case"bool":if(this.type="bool",arguments[2]){let t=document.createElement("p");t.innerHTML=arguments[2],t.style="margin: 5px; font-size: 20px; color: var(--darkText); max-width: 300px; max-height: 200px; overflow: auto;",this.ui.containedElements.push(t),this.ui.inputContainer.appendChild(t)}break;case"time":this.type="time";let e=new u;e.style="width: 235px; height: fit-content; position: relative; display:block;",this.ui.containedElements.push(e),this.ui.inputContainer.appendChild(e);let n=document.createElement("button");n.textContent="Now",n.style="width: 70px; height: 35px; position: absolute; bottom: 5px; left: 5px;",this.ui.containedElements.push(n),this.ui.inputContainer.appendChild(n)}this.ui.containerDiv}reset(){"text"==this.type&&(this.ui.containedElements[0].value="",this.ui.containedElements[0].focus())}setMethods(t){let e,n=()=>{"bool"==this.type?t(!0,!1):t(!1),s()},i=()=>{switch(this.type){case"text":t(!0,this.ui.containedElements[0].value,this);break;case"bool":t(!0,!0,this);break;case"time":let e=new Date,n=this.ui.containedElements[0].Data;e.setHours(n.hour),e.setMinutes(n.minute),e.setDate(n.day),e.setMonth(n.month),e.setSeconds(0),t(!0,e,!1,this)}};"text"==this.type&&(e=t=>{"Enter"==t.key&&i()});let s=()=>{this.ui.acceptButton.removeEventListener("click",i),this.ui.quitButton.removeEventListener("click",n),"text"==this.type&&this.ui.containedElements[0].removeEventListener("keypress",e)};this.ui.quitButton.addEventListener("click",n),this.ui.acceptButton.addEventListener("click",i),"text"==this.type?this.ui.containedElements[0].addEventListener("keypress",e):"time"==this.type&&this.ui.containedElements[1].addEventListener("click",(()=>{t(!0,new Date,!0)}))}clearContext(){this.ui.title.textContent="";for(let t of this.ui.containedElements)t.remove();this.ui.containedElements=[]}}class h extends o{constructor(){super(),this.shadowRoot.innerHTML='\n        <style>\n            ::placeholder{\n                color: var(--darkText);\n                opacity: 0.4;\n            }\n            .inputArea {\n                padding: 3.5px;\n                background-color: var(--secondary);\n                background-size: 400% 400%;\n                animation: gradient 15s ease infinite;\n                outline: none;\n            }\n            .timeContainer{\n                background-color: var(--accent);\n                border: none; \n                outline: none;\n                font: 30px DM Sans, sans-serif;\n                text-align: center;\n                color: var(--darkText);\n                height: 100%;\n            }\n            #clock{\n                background-color: var(--secondary); \n                display: grid;\n                grid-template-columns: calc(50% - 45px) 10px calc(50% - 45px) 80px;\n                height: 100%;\n                width: 100%;\n                position: relative;\n                box-sizing: border-box;\n                align-items: center;\n                justify-content: center;\n            }\n        </style>\n        <div id="clock" class="inputArea">\n            <input id="hourInput" type="text" class="timeContainer" minlength="1" maxlength="2">\n            <h1 style="margin: 0px; \n            height: 40px; \n            font: 30px Arial, sans-serif; \n            text-align: center;">:</h1>\n            <input id="minuteInput" type="text" class="timeContainer" minlength="1" maxlength="3" >\n            <select class="timeContainer" id="meridiem" style="margin: 0; margin-left: 10px; width: 70px; font-weight: 700;">\n                <option value="am" selected>AM</option>\n                <option value="pm">PM</option>\n            </select>\n        </div>\n        ',this.locked=!0,this.ui.hourInput=this.shadowRoot.getElementById("hourInput"),this.ui.minuteInput=this.shadowRoot.getElementById("minuteInput"),this.ui.meridiem=this.shadowRoot.getElementById("meridiem"),this.clock={},this.clock.minHour=1,this.clock.minMin=1,this.clock.current,this.clock.interval=setInterval(this.updateTime.bind(this),1e3),this.addEventListener("keyup",(t=>{"Enter"==t.key&&(this.ui.hourInput.contains(t.target)?this.ui.minuteInput.focus():this.ui.minuteInput.contains(t.target)&&this.triggerEnter())})),this.ui.hourInput.addEventListener("focusout",(t=>{this.checkHour()})),this.ui.minuteInput.addEventListener("focusout",(t=>{this.checkMin()})),this.ui.meridiem.addEventListener("change",(t=>{""!=this.ui.hourInput.value&&this.checkHour()})),this.updateTime()}updateTime(){this.locked?(this.clock.current=new Date,this.clock.current.getHours()>12?(this.clock.minHour=this.clock.current.getHours()-12,this.ui.meridiem.options[0].disabled=!0,this.ui.meridiem.value="pm"):0===this.clock.current.getHours()?this.clock.minHour=12:this.clock.minHour=this.clock.current.getHours(),this.ui.hourInput.placeholder=this.clock.minHour,this.clock.minMin=this.clock.current.getMinutes(),1==(""+this.clock.minMin).length?this.ui.minuteInput.placeholder="0"+this.clock.minMin:this.ui.minuteInput.placeholder=""+this.clock.minMin):(this.clock.minHour=1,this.clock.minMin=1,this.ui.hourInput.placeholder="",this.ui.minuteInput.placeholder="",this.ui.meridiem.options[0].disabled=!1)}checkHour(){if(""==this.ui.hourInput.value)this.ui.hourInput.value=this.clock.minHour;else{let t=Number(this.ui.hourInput.value);"pm"==this.ui.meridiem.value&&(t+=12),t=this.locked?s.limitInput(t,this.clock.minHour,23):s.limitInput(t,0,23),t>12?t-=12:0==t&&(t=12),this.ui.hourInput.value=t}}checkMin(){let t;t=this.clock.minHour!==Number(this.ui.hourInput.value)||this.locked?s.limitInput(this.ui.minuteInput.value,0,59):s.limitInput(this.ui.minuteInput.value,this.clock.minMin,59),this.ui.minuteInput.value=1==(""+t).length?"0"+t:t}get Data(){let t,e;return t=""!=this.ui.hourInput.value?Number(this.ui.hourInput.value):this.clock.minHour,e=""!=this.ui.minuteInput.value?Number(this.ui.minuteInput.value):this.clock.minMin,"pm"==this.ui.meridiem.value&&(t+=12),[t,e]}}class u extends o{constructor(){super(),this.shadowRoot.innerHTML='\n            <style>\n                *{\n                    color: var(--darkText);\n                    font-family: \'DM Sans\', sans-serif;\n                    margin: 0;\n                }\n                .inputArea {\n                    margin: 10px;\n                    padding: 2px;\n                    background-color: var(--accent);\n                    border: none;\n                    width: 150px;\n                    height: 22px;\n                    outline: none;\n                    box-sizing: border-box;\n                }\n                .calEntry {\n                    margin: 0px;\n                    font: 15px Arial, sans-serif;\n                    font-weight: bold;\n                    text-align: center;\n                    height: 100%;\n                    background-color: var(--accent);\n                    pointer-events: none;\n                }\n                .calDay{\n                    background-color: var(--accentBorder);\n                }\n                .calDate {\n                    font: 20px Arial, sans-serif;\n                    font-weight: normal;\n                    background-color: transparent;\n                }\n\n                .pastDate {\n                    color: var(--primary);\n                }\n\n                .tile {\n                    padding: 2px;\n                    height: 100%;\n                    display: flex;\n                    justify-content: center;\n                    align-items: center;\n                    position: relative;\n                }\n                #calendarSelector{\n                    width: 100%;\n                    height: fit-content;\n                    box-sizing: border-box;\n                }\n                #calGrid {\n                    display: grid;\n                    grid-template-columns: 1fr 1fr 1fr 1fr 1fr 1fr 1fr;\n                    grid-template-rows: 20px calc(16.666666% - 3.3333px) calc(16.666666% - 3.3333px) calc(16.666666% - 3.3333px) calc(16.666666% - 3.3333px) calc(16.666666% - 3.3333px) calc(16.666666% - 3.3333px);\n                    height: fit-content;\n                    width: 100%;\n                    border-radius: 0;\n                    background-color: var(--secondary);\n                    justify-content: center;\n                    align-items: center;\n                    padding: 0px; \n                    overflow: hidden; \n                    margin: 0;\n                }\n\n                select,\n                input {\n                    margin: 0;\n                    width: auto;\n                }\n                .targetDate h1{\n                    z-index: 1;\n                }\n                .targetDate::after {\n                    content: "";\n                    position: absolute;\n                    width: 100%;\n                    height: 100%;\n                    margin: 5px;\n                    background-color: var(--accent);\n                    z-index: 0;\n                }\n            </style>\n            \n            <div id="calendarSelector" >\n                <div style="background-color: var(--primary)">\n                    <div style="display: grid; grid-template-columns: calc(100% - 42px) 42px; justify-items: center; align-items: center; padding: 2.5px; background-color:var(--secondary)">\n                        <clock-input id="clockElement" style="width: 100%;"></clock-input>\n                        <svg style="height: 25px; transform: rotate(180deg); visibility: hidden;" fill="none" viewBox="0 0 686 1010" xmlns="http://www.w3.org/2000/svg">\n                            <path d="m0.0042298 504.72c-0.13135 7.845 2.7964 15.731 8.7827 21.718l150.22 150.22c1.587 1.587 3.307 2.958 5.125 4.115l319.88 319.88c11.716 11.72 30.711 11.72 42.427 0l150.22-150.21c11.715-11.716 11.715-30.711 0-42.427l-303.29-303.29 303.29-303.29c11.716-11.715 11.716-30.71 0-42.426l-150.22-150.22c-11.716-11.716-30.71-11.716-42.426 0l-319.89 319.89c-1.817 1.156-3.537 2.528-5.123 4.114l-150.22 150.22c-5.9863 5.987-8.9141 13.873-8.7827 21.718z" clip-rule="evenodd" fill="var(--darkText)"/>\n                        </svg>\n                    </div>\n                    <div style="width: 100%; height: 4px; background-color: var(--primary)"></div>\n                </div>\n                <div id="calGrid" class="inputArea" >\n                    <h1 class="calEntry calDay">S</h1>\n                    <h1 class="calEntry calDay">M</h1>\n                    <h1 class="calEntry calDay">T</h1>\n                    <h1 class="calEntry calDay">W</h1>\n                    <h1 class="calEntry calDay">T</h1>\n                    <h1 class="calEntry calDay">F</h1>\n                    <h1 class="calEntry calDay">S</h1>\n                    <div class="tile" id="date1">\n                        <h1 class="calEntry calDate">1</h1>\n                    </div>\n                    <div class="tile" id="date2">\n                        <h1 class="calEntry calDate">2</h1>\n                    </div>\n                    <div class="tile" id="date3">\n                        <h1 class="calEntry calDate">3</h1>\n                    </div>\n                    <div class="tile" id="date4">\n                        <h1 class="calEntry calDate">4</h1>\n                    </div>\n                    <div class="tile" id="date5">\n                        <h1 class="calEntry calDate">5</h1>\n                    </div>\n                    <div class="tile" id="date6">\n                        <h1 class="calEntry calDate">6</h1>\n                    </div>\n                    <div class="tile" id="date7">\n                        <h1 class="calEntry calDate">7</h1>\n                    </div>\n                    <div class="tile" id="date8">\n                        <h1 class="calEntry calDate">8</h1>\n                    </div>\n                    <div class="tile" id="date9">\n                        <h1 class="calEntry calDate">9</h1>\n                    </div>\n                    <div class="tile" id="date10">\n                        <h1 class="calEntry calDate">10</h1>\n                    </div>\n                    <div class="tile" id="date11">\n                        <h1 class="calEntry calDate">11</h1>\n                    </div>\n                    <div class="tile" id="date12">\n                        <h1 class="calEntry calDate">12</h1>\n                    </div>\n                    <div class="tile" id="date13">\n                        <h1 class="calEntry calDate">13</h1>\n                    </div>\n                    <div class="tile" id="date14">\n                        <h1 class="calEntry calDate">14</h1>\n                    </div>\n                    <div class="tile" id="date15">\n                        <h1 class="calEntry calDate ">15</h1>\n                    </div>\n                    <div class="tile" id="date16">\n                        <h1 class="calEntry calDate ">16</h1>\n                    </div>\n                    <div class="tile" id="date17">\n                        <h1 class="calEntry calDate ">17</h1>\n                    </div>\n                    <div class="tile" id="date18">\n                        <h1 class="calEntry calDate ">18</h1>\n                    </div>\n                    <div class="tile" id="date19">\n                        <h1 class="calEntry calDate ">19</h1>\n                    </div>\n                    <div class="tile" id="date20">\n                        <h1 class="calEntry calDate ">20</h1>\n                    </div>\n                    <div class="tile" id="date21">\n                        <h1 class="calEntry calDate ">21</h1>\n                    </div>\n                    <div class="tile" id="date22">\n                        <h1 class="calEntry calDate ">22</h1>\n                    </div>\n                    <div class="tile" id="date23">\n                        <h1 class="calEntry calDate ">23</h1>\n                    </div>\n                    <div class="tile" id="date24">\n                        <h1 class="calEntry calDate ">24</h1>\n                    </div>\n                    <div class="tile" id="date25">\n                        <h1 class="calEntry calDate ">25</h1>\n                    </div>\n                    <div class="tile" id="date26">\n                        <h1 class="calEntry calDate ">26</h1>\n                    </div>\n                    <div class="tile" id="date27">\n                        <h1 class="calEntry calDate ">27</h1>\n                    </div>\n                    <div class="tile" id="date28">\n                        <h1 class="calEntry calDate ">28</h1>\n                    </div>\n                    <div class="tile" id="date29">\n                        <h1 class="calEntry calDate ">29</h1>\n                    </div>\n                    <div class="tile" id="date30">\n                        <h1 class="calEntry calDate ">30</h1>\n                    </div>\n                    <div class="tile" id="date31">\n                        <h1 class="calEntry calDate ">31</h1>\n                    </div>\n                </div>\n            </div>\n        ',this.targetDate=new Date,this.ui.clockElement=this.shadowRoot.getElementById("clockElement"),this.ui.calGrid=this.shadowRoot.getElementById("calGrid"),this.ui.calendarSelector=this.shadowRoot.getElementById("calendarSelector"),this.ui.calGrid.addEventListener("click",(t=>{"date"==t.target.id.substring(0,4)&&this.setCurrent(t.target)})),this.initialize()}initialize(){let t=this.targetDate.getDay()-(this.targetDate.getDate()-1)%7,e=new Date(this.targetDate.getFullYear(),this.targetDate.getMonth()+1,0).getDate();t=t<0?7+t:t;for(let e=0;e<t;e++)this.ui.calGrid.insertBefore(document.createElement("div"),this.ui.calGrid.children[7]);for(let t=1;t<=31;t++)t<this.targetDate.getDate()?this.shadowRoot.getElementById(`date${t}`).children[0].classList.add("pastDate"):t>this.targetDate.getDate()&&t<this.targetDate.getDate()+14?this.shadowRoot.getElementById(`date${t}`).addEventListener("click",(t=>{this.ui.clockElement.locked=!1})):t>=this.targetDate.getDate()+14?this.shadowRoot.getElementById(`date${t}`).children[0].classList.add("pastDate"):t>e?(this.shadowRoot.getElementById(`date${t}`).remove(),t--):t==this.targetDate.getDate()&&this.shadowRoot.getElementById(`date${t}`).addEventListener("click",(t=>{this.ui.clockElement.locked=!0,this.ui.clockElement.updateTime()}));this.shadowRoot.getElementById(`date${this.targetDate.getDate()}`).classList.add("targetDate"),this.ui.today=this.shadowRoot.getElementById(`date${this.targetDate.getDate()}`)}setCurrent(t){0==t.children[0].classList.contains("pastDate")&&0==t.classList.contains("targetDate")&&(this.shadowRoot.querySelectorAll(".targetDate").forEach((t=>{t.classList.remove("targetDate")})),t.classList.add("targetDate"),this.targetDate.setDate(parseInt(t.children[0].textContent)))}get Data(){let t=this.ui.clockElement.Data;return{minute:t[1],hour:t[0],day:this.targetDate.getDate(),month:this.targetDate.getMonth()}}}class g extends o{constructor(){super(),this.shadowRoot.innerHTML+='\n        <div style="display:grid; justify-content: center;">\n            <div style="background-color: Tomato; width: fit-content; height: 40px; display:grid; align-content:center; padding: 0 10px 0 10px; border: 1px solid #c94e38; ">\n                <h3 id="message" >Choose an Original Name</h3>\n            </div>\n        </div>\n        ',this.ui.message=this.shadowRoot.getElementById("message")}set message(t){this.ui.message.innerText=t}}class m extends o{constructor(){super(),this.shadowRoot.innerHTML+='\n        <style>\n            #toggleButton{\n                height: 100%;\n                width: 100%;\n                position: absolute;\n                transition: background-color 0.25s ease;\n                box-sizing: border-box;\n                align-items: center;\n                border: 1px solid var(--accentBorder);\n                border-radius: 50px;\n                overflow: hidden;\n            }\n            #selector{\n                left:0px;\n                position: absolute;\n                height: 100%;\n                width: 50%;\n                transition: background-color 0.25s ease,\n                left 0.25s ease,\n                border-radius 0.25s ease;\n                background-color: LightGreen;\n                border-radius: 50% 0 0 50%;\n            }\n        </style>\n        <div id="toggleButton">\n            <div id="selector"></div>\n        </div>\n        ',this.ui.toggleButton=this.shadowRoot.getElementById("toggleButton"),this.ui.selector=this.shadowRoot.getElementById("selector"),this.toggled=!0,this.ui.toggleButton.addEventListener("click",(()=>{this.toggle()})),this.off=[],this.on=[]}switch(t){t?(this.ui.selector.style.backgroundColor="LightGreen",this.ui.selector.style.left="0px",this.ui.selector.style.borderRadius="50% 0 0 50%"):(this.ui.selector.style.backgroundColor="Tomato",this.ui.selector.style.left="35px",this.ui.selector.style.borderRadius="0 50% 50% 0"),this.toggled=t}toggle(t){let e=null!=t?t:this.toggled;if(this.switch(!e),e)for(let t of this.off)t();else for(let t of this.on)t()}addFunction(t,e){t?this.on.push(e):this.off.push(e)}}},605:(t,e,n)=>{n.d(e,{p:()=>s,ui:()=>o});var i=n(749);customElements.define("background-div",i.E7),customElements.define("button-generic",i.wg),customElements.define("action-set",i.Lp),customElements.define("scheduled-action",i.Sp),customElements.define("uni-query",i.FT),customElements.define("clock-input",i.zO),customElements.define("date-input",i.vS),customElements.define("error-message",i.gJ),customElements.define("toggle-button",i.Rm),console.clear(),console.log("%c ActionEcho","font-size:45px; font-weight:bold;"),console.log("%c Welcome to ActionEcho Console, there is not much to see here.","font-size:25px");let s={console:{action:"background-color: DarkSlateBlue; font-size: 15px;",preferences:"background-color: DarkCyan; font-size: 15px;",recording:"background-color: OrangeRed; font-size: 15px;",error:"background-color: Crimson; font-size: 15px;"},actionsData:[],scheduledEvents:[],months:["January","February","March","April","May","June","July","August","September","October","November","December"],setLog:{},saveActionList(){chrome.storage.local.set({actionSets:this.actionsData})},addAction(t){this.actionsData.find((e=>e.name==t.name))?a.handle("Choose an Original Name"):(this.actionsData.length>=10&&this.actionsData.pop(),this.actionsData.unshift(t),o.createActionEntry(t),this.saveActionList())},removeAction(t){this.actionsData.splice(this.actionsData.indexOf(t),1),this.saveActionList(),this.actionsData.length<1&&(o.actionsNone.style="")},removeScheduledAction(t){0==o.scheduleButtons.length&&(o.eventsStage.style.visibility="hidden",o.eventsStage.style.position="absolute"),chrome.runtime.sendMessage({action:"removeScheduledAction",id:t.id},(t=>{})),this.scheduledEvents.splice(this.scheduledEvents.indexOf(t),1)},clearActionList(){chrome.storage.local.clear((function(){var t=chrome.runtime.lastError;t&&(console.log("%cError: Problem Clearing Local Storage",s.console.error),console.error(t))}));for(let t of o.actionButtons)t.remove()}},o={actionButtons:[],scheduleButtons:[],setPage:t=>{let e=document.getElementsByClassName("contentPage");for(let n of e)n.id==t?n.classList.remove("hiddenPage"):n.classList.add("hiddenPage")},getName:t=>new Promise(((e,n)=>{o.uniEntry.setQueryType("text",t),o.uniEntry.style.top="0px",o.backgroundDiv.blurFocus(),o.uniEntry.setMethods(((t,i,r)=>{s.actionsData.find((t=>t.name==i))?(r.reset(),a.handle("Choose an Original Name")):(o.uniEntry.style.top="100%",o.backgroundDiv.returnFocus(),t?(console.log(`%cAction: action named ${i}`,s.console.action),e(i)):n())}))})),getBool:(t,e)=>new Promise(((n,i)=>{o.uniEntry.setQueryType("bool",t,e),o.uniEntry.style.top="0px",o.backgroundDiv.blurFocus(),o.uniEntry.setMethods(((t,e,s)=>{o.uniEntry.style.top="100%",o.backgroundDiv.returnFocus(),t?n(e):i()}))})),getTime:t=>new Promise(((e,n)=>{o.uniEntry.setQueryType("time",t),o.uniEntry.style.top="0px",o.backgroundDiv.blurFocus(),o.uniEntry.setMethods(((t,i,s,a)=>{o.uniEntry.style.top="100%",o.backgroundDiv.returnFocus(),t?e(s?"now":i):n()}))})),createActionEntry(t){let e=document.createElement("action-set");e.linkAction(t),o.actionButtons.push(e);let n=document.getElementById("historyBar");"hidden"!=o.actionsNone.style.visibility&&(o.actionsNone.style="visibility: hidden; position: absolute;"),n.insertBefore(e,n.firstChild)},createTimeEntry(t){console.log("%cAction: Scheduled Action Created",s.console.action);let e=document.createElement("scheduled-action");!t.state&&Date.now()>=Number(t.date)&&(t.state="failed"),e.linkAction(t),o.eventsStage.appendChild(e),o.scheduleButtons.push(e),"inherit"!=o.eventsStage.style.visibility&&(o.eventsStage.style.visibility="inherit",o.eventsStage.style.position="inherit")},faviconURL(t){const e=new URL(chrome.runtime.getURL("/_favicon/"));return e.searchParams.set("pageUrl",t),e.searchParams.set("size","32"),e.toString()}},a={queue:[],running:!1,add:t=>{null!=t&&a.queue.push(t)},display:async t=>{if(null!=t)return o.errorHandler.message=t,o.errorHandler.style.bottom="0px",new Promise((t=>{setTimeout((()=>{setTimeout(t,1e3),o.errorHandler.style.bottom="-50px"}),3e3)}))},handle:async t=>{if(a.add(t),!a.running){for(a.running=!0;a.queue.length>0;){let t=a.queue.shift();console.log(`%cError: ${t}`,s.console.error),await a.display(t)}a.running=!1}}},r={store:{signed:"false",sendActData:"true"},get signed(){return this.store.signed},get sendActData(){return this.store.sendActData},set signed(t){let e=null!=t?t:"false";this.store.signed=e,this.saveData()},set sendActData(t){let e=null!=t?t:"true";this.store.sendActData=e,this.saveData()},set(t){this.store.signed=null!=t&&null!=t.signed?t.signed:void 0,this.store.sendActData=null!=t&&null!=t.sendActData?t.sendActData:void 0},save(t){this.set(t),this.saveData()},get data(){return{...this.store}},saveData(){console.log("%cPreferences: Saving Preferences to Storage,",s.console.preferences,this.data),chrome.storage.local.set({preferences:this.data}),chrome.runtime.sendMessage({action:"setPreferences",preferences:this.data})}};window.addEventListener("load",(()=>{o={backgroundDiv:document.getElementById("bgDiv"),recordStart:document.getElementById("recordStart"),recordStop:document.getElementById("recordStop"),editBack:document.getElementById("editBack"),editSave:document.getElementById("editSave"),editNameEntry:document.getElementById("editName"),editEntryContainer:document.getElementById("editEntry"),uniEntry:document.getElementById("uniPopup"),actionsNone:document.getElementById("actionsNone"),eventsStage:document.getElementById("eventsStage"),dial:document.getElementById("dial"),errorHandler:document.getElementById("errorHandler"),settingsButton:document.getElementById("settingsButton"),settingsBack:document.getElementById("settingsBack"),firebaseToggle:document.getElementById("firebaseToggle"),...o},chrome.storage.local.get(["actionSets"]).then((t=>{if(console.log("%cAction: Getting Actions from local storage",s.console.action,t),s.actionsData=null==t.actionSets?[]:t.actionSets,null!=t.actionSets&&Array.isArray(t.actionSets)&&t.actionSets.length>0)for(let t of s.actionsData.reverse())o.createActionEntry(t)})),chrome.storage.local.get(["scheduledEvents"]).then((t=>{if(console.log("%cAction: Getting Scheduled Actions from local storage",s.console.action,t),null!=t.scheduledEvents)for(let e of t.scheduledEvents)o.createTimeEntry(e)})),chrome.storage.local.get(["pastEvents"]).then((t=>{if(t.pastEvents)for(let e of t.pastEvents)o.createTimeEntry(e);chrome.storage.local.set({pastEvents:[]})})),chrome.storage.local.get(["recording"]).then((t=>{console.log(`%cRecording:  is recording, ${t.recording}`,s.console.recording,t),1==t.recording&&o.setPage("recordPage")})),o.recordStart.addEventListener("click",(()=>{console.log("%cRecording: Starting recording",s.console.recording),chrome.runtime.sendMessage({action:"startRecord"},(t=>{if("started"==t.log)chrome.storage.local.set({recording:!0}).then((()=>{o.setPage("recordPage")}));else if("noPort"==t.log)throw a.handle("Load a Site"),new Error("Failed to start recording")}))})),o.recordStop.addEventListener("click",(()=>{chrome.storage.local.set({recording:!1}).then((()=>{o.setPage("mainPage")})),chrome.runtime.sendMessage({action:"stopRecord"},(t=>{if("finished"!=t.log)throw a.handle("No actions were recorded"),new Error("Failed to stop recording");o.getName("Enter Name").then((e=>{let n={name:e,actions:t.actions,urls:t.urls};s.addAction(n),chrome.runtime.sendMessage({action:"actionLog",actionLog:n})}),(()=>{}))}))})),o.settingsButton.addEventListener("click",(()=>{o.setPage("settingsPage")})),o.settingsBack.addEventListener("click",(()=>{null!=s.setLog.sendActData&&(r.sendActData=s.setLog.sendActData,s.setLog.sendActData=void 0),o.setPage("mainPage")})),o.firebaseToggle.addFunction(!0,(()=>{s.setLog.sendActData="true"})),o.firebaseToggle.addFunction(!1,(()=>{s.setLog.sendActData="false"})),chrome.runtime.sendMessage({action:"init"},(t=>{for(let e of t.lists)o.createTimeEntry(e);for(let e of t.errors)a.handle(e)})),chrome.storage.local.get(["preferences"]).then((t=>{console.log("%cPreferences: Loading Preferences From Local Storage,",s.console.preferences,t),r.set(t.preferences),"true"!=r.signed&&(console.log("%cPreferences: Prompting TOS",s.console.preferences),o.tosPrompt=async()=>{o.getBool("User Agreement",'<h2>Sensitive Data</h2>Please be advised that the use of ActionEcho for passwords or any \n      other sensitive data is strictly prohibited. This extension does not \n      provide adequate security measures and should not be relied upon for \n      securing sensitive information. It is important to note that this extension \n      is intended solely for the storage of non-sensitive data. \n      <br><br><h2>Liability</h2>This extension is \n      provided "AS IS", without warranty of any kind, express or implied, including \n      but not limited to the warranties of merchantability, fitness for a particular \n      purpose, and noninfringement. In no event shall the authors or copyright holders\n      be liable for any claim, damages, or other liability, whether in an action of \n      contract, tort, or otherwise, arising from, out of, or in connection with the \n      software or the use or other dealings in the software.').then((t=>{t?r.signed="true":o.tosReject()}))},o.tosReject=async()=>{o.getBool("User Agreement Rejected","You have rejected the User Agreement. \n      This extension will not function if you don't accept the User Agreement.\n      Please either accept the User Agreement or uninstall the extension.\n      ").then((t=>{t?o.tosPrompt():(r.signed="false",o.recordStart.remove())}))}),null==r.signed?o.tosPrompt():"false"==r.signed&&o.tosReject(),"false"==r.data.sendActData&&o.firebaseToggle.switch(!1)}))})),console.group("%cUI Color Codes","font-size: 20px;"),console.log("%cAction",s.console.action),console.log("%cPreferences",s.console.preferences),console.log("%cRecording",s.console.recording),console.log("%cError",s.console.error),console.groupEnd()}},e={};function n(i){var s=e[i];if(void 0!==s)return s.exports;var o=e[i]={exports:{}};return t[i](o,o.exports,n),o.exports}n.d=(t,e)=>{for(var i in e)n.o(e,i)&&!n.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n(605)})();